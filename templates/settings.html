{% extends "layout.html" %}

{% block title %}Settings{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold">
            <i class="fas fa-cog text-blue-600 mr-2"></i> Settings
        </h1>
    </div>
    
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Sidebar -->
        <div class="lg:col-span-1">
            <div class="bg-white rounded-lg shadow-md p-6 sticky top-8">
                <h2 class="text-lg font-medium mb-4">Categories</h2>
                <nav>
                    <ul class="space-y-2">
                        <li>
                            <a href="#general" class="block px-4 py-2 rounded-md bg-blue-50 text-blue-700 font-medium">
                                <i class="fas fa-sliders-h mr-2"></i> General
                            </a>
                        </li>
                        <li>
                            <a href="#sources" class="block px-4 py-2 rounded-md hover:bg-gray-100 text-gray-700">
                                <i class="fas fa-rss mr-2"></i> Sources
                            </a>
                        </li>
                        <li>
                            <a href="#api-keys" class="block px-4 py-2 rounded-md hover:bg-gray-100 text-gray-700">
                                <i class="fas fa-key mr-2"></i> API Keys
                            </a>
                        </li>
                        <li>
                            <a href="#notifications" class="block px-4 py-2 rounded-md hover:bg-gray-100 text-gray-700">
                                <i class="fas fa-bell mr-2"></i> Notifications
                            </a>
                        </li>
                        <li>
                            <a href="#export" class="block px-4 py-2 rounded-md hover:bg-gray-100 text-gray-700">
                                <i class="fas fa-file-export mr-2"></i> Export Settings
                            </a>
                        </li>
                        <li>
                            <a href="#advanced" class="block px-4 py-2 rounded-md hover:bg-gray-100 text-gray-700">
                                <i class="fas fa-tools mr-2"></i> Advanced
                            </a>
                        </li>
                    </ul>
                </nav>
                
                <hr class="my-6">
                
                <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-500">Version 2.0.0</span>
                    <button id="reset-settings" class="text-sm text-red-600 hover:text-red-800">
                        Reset All
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="lg:col-span-2 space-y-8">
            <!-- General Settings -->
            <section id="general" class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold mb-6 flex items-center">
                    <i class="fas fa-sliders-h text-blue-600 mr-2"></i> General Settings
                </h2>
                
                <form id="general-settings-form" class="space-y-6">
                    <div>
                        <label for="theme" class="block text-sm font-medium text-gray-700 mb-1">Application Theme</label>
                        <select id="theme" name="theme" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                            <option value="light" selected>Light</option>
                            <option value="dark">Dark</option>
                            <option value="system">System Default</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="language" class="block text-sm font-medium text-gray-700 mb-1">Language</label>
                        <select id="language" name="language" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                            <option value="en" selected>English</option>
                            <option value="de">German</option>
                            <option value="fr">French</option>
                            <option value="es">Spanish</option>
                            <option value="zh">Chinese</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="date-format" class="block text-sm font-medium text-gray-700 mb-1">Date Format</label>
                        <select id="date-format" name="date_format" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                            <option value="MM/DD/YYYY" selected>MM/DD/YYYY</option>
                            <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                            <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                        </select>
                    </div>
                    
                    <div class="flex items-center">
                        <input id="auto-refresh" name="auto_refresh" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                        <label for="auto-refresh" class="ml-2 block text-sm text-gray-900">
                            Enable auto-refresh for data (every 30 minutes)
                        </label>
                    </div>
                    
                    <div>
                        <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Save Settings
                        </button>
                    </div>
                </form>
            </section>
            
            <!-- Sources Settings -->
            <section id="sources" class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold mb-6 flex items-center">
                    <i class="fas fa-rss text-blue-600 mr-2"></i> Source Settings
                </h2>
                
                <form id="sources-settings-form" class="space-y-6">
                    <div class="space-y-4">
                        <h3 class="text-lg font-medium text-gray-900">Enable/Disable Sources</h3>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <input id="source-arxiv" name="source_arxiv" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" checked>
                                <label for="source-arxiv" class="ml-2 block text-sm text-gray-900">
                                    ArXiv Papers
                                </label>
                            </div>
                            <div>
                                <button type="button" class="text-sm text-blue-600 hover:text-blue-800">
                                    Configure
                                </button>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <input id="source-techcrunch" name="source_techcrunch" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" checked>
                                <label for="source-techcrunch" class="ml-2 block text-sm text-gray-900">
                                    TechCrunch
                                </label>
                            </div>
                            <div>
                                <button type="button" class="text-sm text-blue-600 hover:text-blue-800">
                                    Configure
                                </button>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <input id="source-venturebeat" name="source_venturebeat" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" checked>
                                <label for="source-venturebeat" class="ml-2 block text-sm text-gray-900">
                                    VentureBeat
                                </label>
                            </div>
                            <div>
                                <button type="button" class="text-sm text-blue-600 hover:text-blue-800">
                                    Configure
                                </button>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <input id="source-stanford" name="source_stanford" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" checked>
                                <label for="source-stanford" class="ml-2 block text-sm text-gray-900">
                                    Stanford AI Blog
                                </label>
                            </div>
                            <div>
                                <button type="button" class="text-sm text-blue-600 hover:text-blue-800">
                                    Configure
                                </button>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <input id="source-theverge" name="source_theverge" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" checked>
                                <label for="source-theverge" class="ml-2 block text-sm text-gray-900">
                                    The Verge
                                </label>
                            </div>
                            <div>
                                <button type="button" class="text-sm text-blue-600 hover:text-blue-800">
                                    Configure
                                </button>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <input id="source-hackernews" name="source_hackernews" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" checked>
                                <label for="source-hackernews" class="ml-2 block text-sm text-gray-900">
                                    The Hacker News
                                </label>
                            </div>
                            <div>
                                <button type="button" class="text-sm text-blue-600 hover:text-blue-800">
                                    Configure
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-lg font-medium text-gray-900 mb-2">ArXiv Categories</h3>
                        <div class="flex flex-wrap gap-2">
                            <label class="inline-flex items-center px-3 py-2 rounded-full bg-blue-100 text-blue-800 text-sm">
                                <input type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2" checked>
                                cs.LG (Machine Learning)
                            </label>
                            <label class="inline-flex items-center px-3 py-2 rounded-full bg-blue-100 text-blue-800 text-sm">
                                <input type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2" checked>
                                cs.AI (Artificial Intelligence)
                            </label>
                            <label class="inline-flex items-center px-3 py-2 rounded-full bg-blue-100 text-blue-800 text-sm">
                                <input type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2" checked>
                                cs.CL (Computation and Language)
                            </label>
                            <label class="inline-flex items-center px-3 py-2 rounded-full bg-blue-100 text-blue-800 text-sm">
                                <input type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2">
                                cs.CV (Computer Vision)
                            </label>
                            <label class="inline-flex items-center px-3 py-2 rounded-full bg-blue-100 text-blue-800 text-sm">
                                <input type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2">
                                cs.NE (Neural and Evolutionary)
                            </label>
                            <button class="inline-flex items-center px-3 py-2 rounded-full bg-gray-100 text-gray-800 text-sm hover:bg-gray-200">
                                <i class="fas fa-plus mr-1"></i> Add More
                            </button>
                        </div>
                    </div>
                    
                    <div>
                        <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Save Source Settings
                        </button>
                    </div>
                </form>
            </section>
            
            <!-- API Keys -->
            <section id="api-keys" class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold mb-6 flex items-center">
                    <i class="fas fa-key text-blue-600 mr-2"></i> API Keys
                </h2>
                
                <form id="api-keys-form" class="space-y-6">
                    <div>
                        <label for="openai-key" class="block text-sm font-medium text-gray-700 mb-1">OpenAI API Key</label>
                        <div class="mt-1 flex rounded-md shadow-sm">
                            <input type="password" name="openai_key" id="openai-key" class="flex-1 min-w-0 block w-full px-3 py-2 rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="sk-...">
                            <button type="button" class="inline-flex items-center px-3 py-2 border border-l-0 border-gray-300 bg-gray-50 text-gray-700 sm:text-sm">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <p class="mt-1 text-sm text-gray-500">
                            Used for AI summarization and chat functionality
                        </p>
                    </div>
                    
                    <div>
                        <label for="news-api-key" class="block text-sm font-medium text-gray-700 mb-1">News API Key (Optional)</label>
                        <div class="mt-1 flex rounded-md shadow-sm">
                            <input type="password" name="news_api_key" id="news-api-key" class="flex-1 min-w-0 block w-full px-3 py-2 rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="Enter API Key...">
                            <button type="button" class="inline-flex items-center px-3 py-2 border border-l-0 border-gray-300 bg-gray-50 text-gray-700 sm:text-sm">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <p class="mt-1 text-sm text-gray-500">
                            For additional news sources
                        </p>
                    </div>
                    
                    <div>
                        <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Save API Keys
                        </button>
                    </div>
                </form>
            </section>
            
            <!-- Notifications -->
            <section id="notifications" class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold mb-6 flex items-center">
                    <i class="fas fa-bell text-blue-600 mr-2"></i> Notifications
                </h2>
                
                <form id="notifications-form" class="space-y-6">
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <input id="notify-new-articles" name="notify_new_articles" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" checked>
                                <label for="notify-new-articles" class="ml-2 block text-sm text-gray-900">
                                    New articles found
                                </label>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <input id="notify-trending" name="notify_trending" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" checked>
                                <label for="notify-trending" class="ml-2 block text-sm text-gray-900">
                                    Trending topics
                                </label>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <input id="notify-system" name="notify_system" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                                <label for="notify-system" class="ml-2 block text-sm text-gray-900">
                                    System notifications
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <label for="notification-frequency" class="block text-sm font-medium text-gray-700 mb-1">Notification Frequency</label>
                        <select id="notification-frequency" name="notification_frequency" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                            <option value="immediate">Immediate</option>
                            <option value="hourly" selected>Hourly Digest</option>
                            <option value="daily">Daily Digest</option>
                            <option value="weekly">Weekly Digest</option>
                        </select>
                    </div>
                    
                    <div>
                        <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Save Notification Settings
                        </button>
                    </div>
                </form>
            </section>
            
            <!-- Export Settings -->
            <section id="export" class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold mb-6 flex items-center">
                    <i class="fas fa-file-export text-blue-600 mr-2"></i> Export Settings
                </h2>
                
                <form id="export-settings-form" class="space-y-6">
                    <div>
                        <label for="citation-style" class="block text-sm font-medium text-gray-700 mb-1">Default Citation Style</label>
                        <select id="citation-style" name="citation_style" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                            <option value="apa" selected>APA</option>
                            <option value="mla">MLA</option>
                            <option value="chicago">Chicago</option>
                            <option value="ieee">IEEE</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="export-format" class="block text-sm font-medium text-gray-700 mb-1">Default Export Format</label>
                        <select id="export-format" name="export_format" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                            <option value="docx" selected>Microsoft Word (.docx)</option>
                            <option value="pdf">PDF Document</option>
                            <option value="txt">Plain Text</option>
                            <option value="json">JSON</option>
                        </select>
                    </div>
                    
                    <div class="flex items-center">
                        <input id="include-abstracts" name="include_abstracts" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" checked>
                        <label for="include-abstracts" class="ml-2 block text-sm text-gray-900">
                            Include abstracts in exports
                        </label>
                    </div>
                    
                    <div class="flex items-center">
                        <input id="include-images" name="include_images" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" checked>
                        <label for="include-images" class="ml-2 block text-sm text-gray-900">
                            Include images in exports
                        </label>
                    </div>
                    
                    <div>
                        <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Save Export Settings
                        </button>
                    </div>
                </form>
            </section>
            
            <!-- Advanced Settings -->
            <section id="advanced" class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold mb-6 flex items-center">
                    <i class="fas fa-tools text-blue-600 mr-2"></i> Advanced Settings
                </h2>
                
                <form id="advanced-settings-form" class="space-y-6">
                    <div>
                        <label for="cache-duration" class="block text-sm font-medium text-gray-700 mb-1">Cache Duration (hours)</label>
                        <input type="number" name="cache_duration" id="cache-duration" value="24" min="1" max="168" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                        <p class="mt-1 text-sm text-gray-500">
                            How long to cache data before refreshing (1-168 hours)
                        </p>
                    </div>
                    
                    <div>
                        <label for="max-articles" class="block text-sm font-medium text-gray-700 mb-1">Maximum Articles Per Source</label>
                        <input type="number" name="max_articles" id="max-articles" value="10" min="1" max="50" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                        <p class="mt-1 text-sm text-gray-500">
                            Maximum number of articles to fetch per source (1-50)
                        </p>
                    </div>
                    
                    <div>
                        <label for="relevance-threshold" class="block text-sm font-medium text-gray-700 mb-1">Relevance Threshold</label>
                        <input type="range" name="relevance_threshold" id="relevance-threshold" min="0" max="100" value="50" step="5" class="range-slider w-full">
                        <div class="flex justify-between text-xs text-gray-500">
                            <span>Low (Include More)</span>
                            <span>High (More Selective)</span>
                        </div>
                        <p class="mt-1 text-sm text-gray-500">
                            Minimum relevance score for including articles
                        </p>
                    </div>
                    
                    <div class="flex items-center">
                        <input id="debug-mode" name="debug_mode" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                        <label for="debug-mode" class="ml-2 block text-sm text-gray-900">
                            Enable debug mode
                        </label>
                    </div>
                    
                    <div>
                        <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Save Advanced Settings
                        </button>
                    </div>
                </form>
            </section>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    // Highlight the clicked nav item
                    document.querySelectorAll('nav a').forEach(item => {
                        item.classList.remove('bg-blue-50', 'text-blue-700');
                        item.classList.add('hover:bg-gray-100', 'text-gray-700');
                    });
                    
                    this.classList.remove('hover:bg-gray-100', 'text-gray-700');
                    this.classList.add('bg-blue-50', 'text-blue-700');
                    
                    // Smooth scroll to the target
                    window.scrollTo({
                        top: targetElement.offsetTop - 20,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Form submissions
        const forms = document.querySelectorAll('form');
        
        forms.forEach(form => {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const formData = new FormData(form);
                const formObject = {};
                
                formData.forEach((value, key) => {
                    // Handle checkboxes
                    if (form.elements[key].type === 'checkbox') {
                        formObject[key] = form.elements[key].checked;
                    } else {
                        formObject[key] = value;
                    }
                });
                
                // Display success message (in a real app, you'd save to server)
                showNotification('Settings saved successfully!', 'success');
                
                // In a real implementation, you would send this data to the server
                console.log('Form data:', formObject);
            });
        });
        
        // Reset settings confirmation
        const resetButton = document.getElementById('reset-settings');
        if (resetButton) {
            resetButton.addEventListener('click', function() {
                if (confirm('Are you sure you want to reset all settings to default values? This cannot be undone.')) {
                    showNotification('All settings have been reset to defaults', 'info');
                    // In a real implementation, you would reset all settings to default
                }
            });
        }
        
        // Show/hide password
        const passwordToggleButtons = document.querySelectorAll('button[type="button"]');
        
        passwordToggleButtons.forEach(button => {
            if (button.querySelector('.fa-eye') || button.querySelector('.fa-eye-slash')) {
                button.addEventListener('click', function() {
                    const icon = this.querySelector('i');
                    const input = this.parentNode.querySelector('input');
                    
                    if (input.type === 'password') {
                        input.type = 'text';
                        icon.classList.remove('fa-eye');
                        icon.classList.add('fa-eye-slash');
                    } else {
                        input.type = 'password';
                        icon.classList.remove('fa-eye-slash');
                        icon.classList.add('fa-eye');
                    }
                });
            }
        });
        
        // Helper function to show notifications
        function showNotification(message, type = 'success') {
            // Create notification element if it doesn't exist
            let notification = document.getElementById('notification');
            if (!notification) {
                notification = document.createElement('div');
                notification.id = 'notification';
                notification.className = 'fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all transform translate-x-full';
                document.body.appendChild(notification);
            }
            
            // Set styling based on notification type
            let bgColor, textColor, icon;
            switch (type) {
                case 'success':
                    bgColor = 'bg-green-100';
                    textColor = 'text-green-800';
                    icon = 'fa-check-circle';
                    break;
                case 'error':
                    bgColor = 'bg-red-100';
                    textColor = 'text-red-800';
                    icon = 'fa-exclamation-circle';
                    break;
                case 'warning':
                    bgColor = 'bg-yellow-100';
                    textColor = 'text-yellow-800';
                    icon = 'fa-exclamation-triangle';
                    break;
                case 'info':
                default:
                    bgColor = 'bg-blue-100';
                    textColor = 'text-blue-800';
                    icon = 'fa-info-circle';
                    break;
            }
            
            // Set content and styling
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${bgColor} ${textColor} flex items-center space-x-2 transition-all transform translate-x-0 max-w-md`;
            notification.innerHTML = `
                <i class="fas ${icon} text-lg"></i>
                <span>${message}</span>
            `;
            
            // Animate in
            notification.style.transition = 'all 0.3s ease-in-out';
            notification.style.transform = 'translateX(0)';
            
            // Automatically hide after 3 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(150%)';
                
                // Remove after animation completes
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
    });
</script>
{% endblock %}